# ƒêi·ªÅu ki·ªán

## 1.Th·ª±c hi·ªán l·ªánh c√≥ ƒëi·ªÅu ki·ªán (to√°n t·ª≠ **`&&`**)

S·ª≠ d·ª•ng to√°n t·ª≠ **`&&`** ƒë·ªÉ th·ª±c hi·ªán 2 l·ªánh li√™n ti·∫øp

L·ªánh th·ª© 2 s·∫Ω ch·ªâ th·ª±c hi·ªán khi l·ªánh th·ª© 1 ho√†n th√†nh.

```shell
$ mkdir newFolder && cd newFolder
```

C√¢u l·ªánh tr√™n l√† t·∫°o `newFolder` v√† `cd` v√†o n√≥

---

## 2. C√¢u l·ªánh **`else`** s·ª≠ d·ª•ng to√°n t·ª≠ **`||`**

To√°n t·ª± **`OR`** (**`||`**) cho ph√©p b·∫°n th·ª±c thi c√¢u l·ªánh th·ª© 2 n·∫øu v√† ch·ªâ n·∫øu c√¢u l·ªánh th·ª© 1 th·∫•t b·∫°i.

```shell
$ cd ~/
$ mkdir newFolder
$ mkdir newFolder || cd newFolder
```

V√≠ d·ª• tr√™n, n·∫øu b·∫°n c·ªë g·∫Øng ch·∫°y l·ªánh **`mkdir newFolder`** khi folder ƒë√≥ ƒë√£ t·ªìn t·∫°i th·∫ø l√† c√¢u l·ªánh ƒë√≥ th·∫•t b·∫°i v√† c√¢u l·ªánh ti·∫øp theo s·∫Ω th·ª±c hi·ªán:

```textile
mkdir: cannot create directory 'newFolder': File exists
zen@pc~/newFolder # cd into it
```

---

## 3. Th·ª±c thi tu·∫ßn t·ª± b·∫±ng s·ª≠ d·ª•ng l·ªánh ngƒÉn c√°ch **`;`**

D·∫•u ph√¢n c√°ch **`;`** l√†m cho n√≥ c√≥ th·ªÉ ch·ªâ ƒë·ªãnh m·ªôt s·ªë l·ªánh th·ª±c thi c√πng l√∫c, **`shell`** s·∫Ω th·ª±c thi ch√∫ng tu·∫ßn t·ª± nh∆∞ sau:

```shell
date ; uname ; clear
Fri 11 May 12:21:23 BST 2020
Linux
# L·ªánh clear s·∫Ω clear m·ªçi th·ª© tr√™n terminal
```

---

## 4. X√¢y d·ª±ng tr√™n l·ªánh **`test`**

·ªû ph·∫ßn tr∆∞·ªõc, b·∫°n ƒë√£ th·∫•y to√°n t·ª≠ **`&&`** v√† **`||`** kh√°c nhau v·ªÅ k·∫øt qu·∫£ d·ª±a tr√™n c√¢u l·ªánh tr∆∞·ªõc ho√†n th√†nh ho·∫∑c kh√¥ng. L·ªánh **`test`** cho ph√©p ch√∫ng ta ƒë√°nh gi√° bi·ªÉu th·ª©c v√† ti·∫øp c·∫≠n s·ª± kh√°c nhau khi s·ª≠ d·ª•ng **`&&`** v√† **`||`**.

**C√∫ ph√°p nh∆∞ sau:**

```shell
test expression
# or 
[ expression ] 
```

Trong khi tu·ª≥ ch·ªçn ƒë·∫ßu ti√™n ho·∫°t ƒë·ªông tr√™n h·∫ßu h·∫øt shell, th√¨ tu·ª≥ ch·ªçn th·ª© hai l·∫°i kh√¥ng ho·∫°t ƒë·ªông tr√™n **`zsh`**

L·ªánh tr·∫£ v·ªÅ **`0`** n·∫øu `expression` l√† **false** v√† ng∆∞·ª£c l·∫°i, tr·∫£ v·ªÅ **`1`** khi n√≥ l√† **true**. L·ªánh       `[` c·∫ßn ph·∫£i c√≥ ƒë·ªëi s·ªë `]`. 

V√≠ d·ª• c∆° b·∫£n sau ƒë√¢y s·∫Ω cho b·∫°n hi·ªÉu h∆°n:

```shell
test 1 -lt 2 && echo true || echo false
# true
```

C√°c **flags** c·ªßa **`test`** th√¥ng d·ª•ng c·∫ßn bi·∫øt: 

- **`-e FILE`**: **true** n·∫øu *FILE* t·ªìn t·∫°i
- **`-d FILE`**: **true** n·∫øu *FILE* t·ªìn t·∫°i v√† c√≥ trong **directory**
- **`-x FILE`**: **true** n·∫øu *FILE* t·ªìn t·∫°i v√† c√≥ th·ª±c thi
- **`-z STRING`**: **true** n·∫øu *STRING* **r·ªóng**
- **`STRING1 \< STRING2`**: **true** n·∫øu *STRING1* s·∫Øp x·∫øp tr∆∞·ªõc *STRING2* (trong **ASCII**, **`=,\>`** nh∆∞ nhau)
- **`INT1 -eq INT2`**: **true** n·∫øu *INT1* b·∫±ng v·ªõi *INT2* (**`-ne`**,**`-lt`**,**`-le`**,**`-gt`**,**`-ge`** l√† nh∆∞ nhau)
- **`!TEST`**: **true** n·∫øu *TEST* **false**

**V√≠ d·ª• kh√°c:**

```shell
[ 1 \< 2 ] && [ "abc" = "abc" ]; echo $?
```

Nh∆∞ b·∫°n ƒë√£ th·∫•y, **`\<`** ph·∫£i trong trong d·∫•u **`[]`**. **`$?`** s·ª≠ d·ª•ng s·∫Ω tr·∫£ v·ªÅ gi√° tr·ªã.

C√≥ nhi·ªÅu **flags** c√≥ ch·ª©c nƒÉng gi·ªëng **`&&`** (**`-a`**) v√† **`||`**(**`-o`**). 

### T√¨m hi·ªÉu th√™m

| üåè¬†[L·ªánh test c∆° b·∫£n](http://wiki.bash-hackers.org/commands/classictest) |
| ------------------------------------------------------------------------ |

---

## 5.  L·ªánh **`((`** v√† **`[[`**

Trong khi l·ªánh **`test`** ƒë√£ l√†m r·∫•t t·ªët c√¥ng vi·ªác ƒë√°nh gi√° bi·ªÉu th·ª©c nh∆∞ng v·ªõi m·ªôt y√™u c·∫ßu kh√°c v·ªÅ so s√°nh chu·ªói v√† s·ªë nguy√™n c√≥ th·ªÉ r·∫•t kh√≥ s·ª≠ d·ª•ng.

L·ªánh **`(( bi·ªÉu th·ª©c ))`** ƒë√°nh gi√° bi·ªÉu th·ª©c s·ªë h·ªçc v√† tr·∫£ v·ªÅ **`1`** n·∫øu bi·ªÉu th·ª©c ƒë√°nh gi√° l√† **`0`** v√† ng∆∞·ª£c l·∫°i. ∆Øu ƒëi·ªÉm khi s·ª≠ d·ª•ng l·ªánh n√†y ƒë√≥ l√† b·∫°n kh√¥ng c·∫ßn escape c√°c k√Ω t·ª±:

```shell
(( 1 == 2 )) && echo true || echo false
# false
(( 4/2 -2 )) && echo $?
#1
```

 M·∫∑c kh√°c, **`[ bi·ªÉu th·ª©c ]`** cho ph√©p b·∫°n ph·ªëi h·ª£p **tests** (gi·ªëng c√∫ ph√°p, bao g·ªìm file, chu·ªói v√† s·ªë nguy√™n):

```shell
# regex matching 
[[ "abc de" == a[bc]*\ d* || \ (( 2 > 1 )) ]]; echo $?
# 0
[[ 3 -gt 2 ]]; echo $?
#0
```

v√† file c≈©ng th·∫ø:

```shell
[[ -w $HOME || 2 > 1 ]] && echo "true"
# true
```

### T√¨m hi·ªÉu th√™m

| [Bash test v√† ch·ª©c nƒÉng so s√°nh]() |
| ---------------------------------- |

| üîô [B√†i 11.Nh·ªØng tips cho Terminal](https://github.com/Zenfection/Linux-for-babies/blob/master/USER%20%26%20FILE%20MANAGEMENT/11.Terminal%20Power%20User%20Tips.md) | [B√†i 13.M·∫πo qu·∫£n l√≠ file ph·∫ßn 2](https://github.com/Zenfection/Linux-for-babies/blob/master/USER%20%26%20FILE%20MANAGEMENT/13.File%20Management%20tips%202.md)¬† üîú |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
